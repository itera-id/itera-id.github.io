<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>File List</title>
</head>
<body>
<h1>File List</h1>
<ul id="fileList"></ul>

<script>
window.onload = function() {
    var fileList = document.getElementById("fileList");

    // Data URI untuk file HTML
    var htmlDataUri = 'data:text/html;base64,' + btoa(`
        <!DOCTYPE html>
        <html lang="en">
        <head>
        <meta charset="UTF-8">
        <title>File Content</title>
        </head>
        <body>
        <pre>{fileContent}</pre>
        </body>
        </html>
    `);

    // Mengambil isi dari folder sc/html/ dari server
    fetch('https://prayogak.github.io/')
        .then(response => response.text())
        .then(data => {
            fileList.innerHTML = data;
            // Tambahkan event listener untuk setiap link
            var links = fileList.querySelectorAll('a');
            links.forEach(link => {
                link.addEventListener('click', function(event) {
                    event.preventDefault(); // Menghentikan navigasi default
                    var filename = this.textContent;
                    // Mengambil isi file yang diklik
                    fetch('https://prayogak.github.io/' + filename)
                        .then(response => response.text())
                        .then(fileContent => {
                            // Menampilkan isi file dalam window baru
                            var newWindow = window.open(htmlDataUri.replace('{fileContent}', fileContent), '_blank');
                            newWindow.document.title = filename;
                        })
                        .catch(error => console.error('Error:', error));
                });
            });
        })
        .catch(error => console.error('Error:', error));
};
</script>
</body>
</html>
